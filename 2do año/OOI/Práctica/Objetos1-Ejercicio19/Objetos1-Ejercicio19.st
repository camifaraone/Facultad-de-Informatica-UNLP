Object subclass: #PoliticaDeCancelacion	instanceVariableNames: 'nombre'	classVariableNames: ''	poolDictionaries: ''	category: 'Objetos1-Ejercicio19'!!PoliticaDeCancelacion methodsFor: 'accessing' stamp: 'JulianCasaburi 12/9/2019 19:12'!propiedad: unaPropiedad	propiedad := unaPropiedad! !!PoliticaDeCancelacion methodsFor: 'accessing' stamp: 'JulianCasaburi 12/9/2019 19:08'!nombre: unNombre	nombre := unNombre ! !!PoliticaDeCancelacion methodsFor: 'as yet unclassified' stamp: 'JulianCasaburi 12/9/2019 19:20'!montoAReembolsarConAnticipacion: unaCantidadDeDias monto: unMonto	^ self subclassResponsibility ! !"-- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- "!PoliticaDeCancelacion class	instanceVariableNames: ''!!PoliticaDeCancelacion class methodsFor: 'as yet unclassified' stamp: 'JulianCasaburi 12/9/2019 19:09'!conNombre: unNombre	^ self new		nombre: unNombre;		yourself! !!PoliticaDeCancelacion class methodsFor: 'as yet unclassified' stamp: 'JulianCasaburi 12/9/2019 19:13'!conNombre: unNombre dePropiedad: unaPropiedad	^ self new		nombre: unNombre;		propiedad: unaPropiedad;		yourself! !PoliticaDeCancelacion subclass: #PoliticaDeCancelacionEstricta	instanceVariableNames: ''	classVariableNames: ''	poolDictionaries: ''	category: 'Objetos1-Ejercicio19'!!PoliticaDeCancelacionEstricta methodsFor: 'as yet unclassified' stamp: 'JulianCasaburi 12/9/2019 19:20'!montoAReembolsarConAnticipacion: unaCantidadDeDias monto: unMonto	^ 0! !PoliticaDeCancelacion subclass: #PoliticaDeCancelacionFlexible	instanceVariableNames: ''	classVariableNames: ''	poolDictionaries: ''	category: 'Objetos1-Ejercicio19'!!PoliticaDeCancelacionFlexible methodsFor: 'as yet unclassified' stamp: 'JulianCasaburi 12/9/2019 19:21'!montoAReembolsarConAnticipacion: unaCantidadDeDias monto: unMonto	^ unMonto	! !PoliticaDeCancelacion subclass: #PoliticaDeCancelacionModerada	instanceVariableNames: ''	classVariableNames: ''	poolDictionaries: ''	category: 'Objetos1-Ejercicio19'!!PoliticaDeCancelacionModerada methodsFor: 'as yet unclassified' stamp: 'JulianCasaburi 12/9/2019 19:21'!montoAReembolsarConAnticipacion: unaCantidadDeDias monto: unMonto	(unaCantidadDeDias >= 7)	ifTrue: [ ^unMonto ].		(unaCantidadDeDias >= 2)	ifTrue: [ ^ unMonto / 2 ]! !Object subclass: #Propiedad	instanceVariableNames: 'nombre descripcion precioPorNoche direccion reservas politicaDeCancelacion'	classVariableNames: ''	poolDictionaries: ''	category: 'Objetos1-Ejercicio19'!!Propiedad methodsFor: 'as yet unclassified' stamp: 'JulianCasaburi 12/9/2019 18:35'!disponibleDesde: fechaInicio hasta: fechaFin	"comment stating purpose of message"	reservas detect: [ :each | each desde between: fechaInicio and: fechaFin & (each hasta between: fechaInicio and: fechaFin) ] ifFound: [ ^false ] ifNone: [ ^true ].! !!Propiedad methodsFor: 'as yet unclassified' stamp: 'JulianCasaburi 12/9/2019 19:35'!montoAReembolsar: unaReserva fecha: unaFecha	^ politicaDeCancelacion montoAReembolsarConAnticipacion: ((unaReserva desde - unaFecha) days) monto: unaReserva precio! !!Propiedad methodsFor: 'as yet unclassified' stamp: 'JulianCasaburi 11/17/2018 04:03'!eliminarReserva: unaReserva	"comment stating purpose of message"	reservas remove: unaReserva.! !!Propiedad methodsFor: 'as yet unclassified' stamp: 'JulianCasaburi 11/17/2018 04:11'!ingresosDesde: fechaInicio hasta: fechaFin	"comment stating purpose of message"	| reservasDelPeriodo |	reservasDelPeriodo := reservas detect: [ :each | each desde between: fechaInicio and: fechaFin & (each hasta between: fechaInicio and: fechaFin) ].		^reservasDelPeriodo sum: [ :each | each precio ].		! !!Propiedad methodsFor: 'as yet unclassified' stamp: 'JulianCasaburi 11/17/2018 04:26'!agregarReserva: unaReserva	"comment stating purpose of message"	reservas add: unaReserva.! !!Propiedad methodsFor: 'accessing' stamp: 'JulianCasaburi 11/17/2018 03:58'!precioPorNoche	"comment stating purpose of message"	^ precioPorNoche.! !!Propiedad methodsFor: 'accessing' stamp: 'JulianCasaburi 11/17/2018 03:19'!precioPorNoche: unPrecio	"comment stating purpose of message"	precioPorNoche := unPrecio.! !!Propiedad methodsFor: 'accessing' stamp: 'JulianCasaburi 12/9/2019 19:04'!politicaDeCancelacion: unaPoliticaDeCancelacion	politicaDeCancelacion := unaPoliticaDeCancelacion! !!Propiedad methodsFor: 'accessing' stamp: 'JulianCasaburi 11/17/2018 03:19'!descripcion: unaDescripcion	"comment stating purpose of message"	descripcion := unaDescripcion .! !!Propiedad methodsFor: 'accessing' stamp: 'JulianCasaburi 11/17/2018 03:18'!nombre: unNombre	"comment stating purpose of message"	nombre := unNombre.! !!Propiedad methodsFor: 'accessing' stamp: 'JulianCasaburi 11/17/2018 03:19'!direccion: unaDireccion	"comment stating purpose of message"	direccion := unaDireccion.! !!Propiedad methodsFor: 'initialization' stamp: 'JulianCasaburi 12/9/2019 18:25'!initialize	"comment stating purpose of message"	reservas := OrderedCollection new.! !"-- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- "!Propiedad class	instanceVariableNames: ''!!Propiedad class methodsFor: 'as yet unclassified' stamp: 'JulianCasaburi 12/9/2019 19:03'!conNombre: unNombre descripcion: unaDescripcion precioPorNoche: unPrecio direccion: unaDireccion propietario: unUser conPoliticaDeCancelacion: unaPoliticaDeCancelacion	"comment stating purpose of message"	^self new		nombre: unNombre;		descripcion: unaDescripcion;		precioPorNoche: unPrecio;		direccion: unaDireccion;		politicaDeCancelacion: unaPoliticaDeCancelacion;		yourself.	! !Object subclass: #Reserva	instanceVariableNames: 'propiedad fechaInicio fechaFin'	classVariableNames: ''	poolDictionaries: ''	category: 'Objetos1-Ejercicio19'!!Reserva methodsFor: 'as yet unclassified' stamp: 'JulianCasaburi 11/17/2018 03:45'!desde	"comment stating purpose of message"	^fechaInicio ! !!Reserva methodsFor: 'as yet unclassified' stamp: 'JulianCasaburi 12/9/2019 19:38'!montoAReembolsar: unaFecha	(unaFecha < self desde)	ifTrue: [ ^ propiedad montoAReembolsar: self fecha: unaFecha ]	ifFalse: [ ^nil ]! !!Reserva methodsFor: 'as yet unclassified' stamp: 'JulianCasaburi 12/9/2019 19:22'!cancelar	"comment stating purpose of message"	(Date today < fechaInicio)	ifTrue: [ propiedad eliminarReserva: self. ]! !!Reserva methodsFor: 'as yet unclassified' stamp: 'JulianCasaburi 11/17/2018 03:59'!precio	"comment stating purpose of message"	^ propiedad precioPorNoche * (fechaFin - fechaInicio asDays).! !!Reserva methodsFor: 'as yet unclassified' stamp: 'JulianCasaburi 11/17/2018 03:45'!hasta	"comment stating purpose of message"	^fechaFin ! !!Reserva methodsFor: 'accessing' stamp: 'JulianCasaburi 12/9/2019 19:05'!propiedad: unaPropiedad	propiedad := unaPropiedad ! !!Reserva methodsFor: 'accessing' stamp: 'JulianCasaburi 11/17/2018 04:15'!fechaInicio: unaFecha	"comment stating purpose of message"	fechaInicio := unaFecha .! !!Reserva methodsFor: 'accessing' stamp: 'JulianCasaburi 11/17/2018 04:16'!fechaFin: unaFecha	"comment stating purpose of message"	fechaFin := unaFecha.! !"-- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- "!Reserva class	instanceVariableNames: ''!!Reserva class methodsFor: 'as yet unclassified' stamp: 'JulianCasaburi 11/17/2018 04:17'!dePropiedad: unaPropiedad desde: fechaInicio hasta: fechaFin	"comment stating purpose of message"	^self new 		propiedad: unaPropiedad;		fechaInicio: fechaInicio;		fechaFin: fechaFin;		yourself.! !Object subclass: #SistemaDePropiedades	instanceVariableNames: 'nombre usuarios propiedades'	classVariableNames: ''	poolDictionaries: ''	category: 'Objetos1-Ejercicio19'!!SistemaDePropiedades methodsFor: 'as yet unclassified' stamp: 'JulianCasaburi 12/9/2019 19:22'!cancelarReserva: unaReserva	"comment stating purpose of message"		unaReserva cancelar! !!SistemaDePropiedades methodsFor: 'as yet unclassified' stamp: 'JulianCasaburi 12/9/2019 18:49'!efectuarReserva: unaPropiedad 	desde: fechaInicio hasta: fechaFin usuario: unUser	"comment stating purpose of message"	(unaPropiedad disponibleDesde: fechaInicio  hasta: fechaFin)	ifTrue: [			| nuevaReserva |			nuevaReserva := Reserva dePropiedad: unaPropiedad desde: fechaInicio  hasta: fechaFin.				unaPropiedad agregarReserva: nuevaReserva .				unUser agregarReserva: nuevaReserva.				^nuevaReserva.	].			! !!SistemaDePropiedades methodsFor: 'as yet unclassified' stamp: 'JulianCasaburi 12/9/2019 19:03'!registrarPropiedad: unNombre conDescripcion: unaDescripcion conPrecioPorNoche: unPrecio conDireccion: unaDireccion conPropietario: unUser conPoliticaDeCancelacion: unaPoliticaDeCancelacion	"comment stating purpose of message"	| nuevaPropiedad |	nuevaPropiedad := Propiedad conNombre: unNombre descripcion: unaDescripcion precioPorNoche: unPrecio direccion: unaDireccion propietario: unUser conPoliticaDeCancelacion: unaPoliticaDeCancelacion.		propiedades add: nuevaPropiedad .	unUser agregarPropiedad: nuevaPropiedad .	^nuevaPropiedad.! !!SistemaDePropiedades methodsFor: 'as yet unclassified' stamp: 'JulianCasaburi 12/9/2019 19:38'!montoAReembolsar: unaReserva fecha: unaFecha	unaReserva montoAReembolsar: unaFecha! !!SistemaDePropiedades methodsFor: 'as yet unclassified' stamp: 'JulianCasaburi 11/17/2018 04:04'!reservasDeUsuario: unUsuario	"comment stating purpose of message"	^ unUsuario reservas.! !!SistemaDePropiedades methodsFor: 'as yet unclassified' stamp: 'JulianCasaburi 11/17/2018 03:26'!registrarUsuario: unNombre conDireccion: unaDireccion conDNI: unDNI	"comment stating purpose of message"	| nuevoUser |	nuevoUser := User conNombre: unNombre conDireccion: unaDireccion  yDNI: unDNI.		usuarios add: nuevoUser . 		^nuevoUser.! !!SistemaDePropiedades methodsFor: 'as yet unclassified' stamp: 'JulianCasaburi 11/17/2018 03:54'!propiedadesDisponiblesDesde: fechaInicio hasta: fechaFin	"comment stating purpose of message"	^ propiedades select: [ :each | each disponibleDesde: fechaInicio hasta: fechaFin ].! !!SistemaDePropiedades methodsFor: 'initialization' stamp: 'JulianCasaburi 12/9/2019 18:49'!initialize	"comment stating purpose of message"	propiedades := OrderedCollection new.	usuarios := OrderedCollection new.! !Object subclass: #User	instanceVariableNames: 'nombre direccion dni propiedadesEnAlquiler reservasEfectuadas'	classVariableNames: ''	poolDictionaries: ''	category: 'Objetos1-Ejercicio19'!!User methodsFor: 'initialization' stamp: 'JulianCasaburi 12/9/2019 18:24'!initialize	"comment stating purpose of message"	propiedadesEnAlquiler := OrderedCollection new.	reservasEfectuadas := OrderedCollection new.! !!User methodsFor: 'private' stamp: 'JulianCasaburi 11/17/2018 03:15'!direccion: unaDireccion	"comment stating purpose of message"	direccion := unaDireccion .! !!User methodsFor: 'private' stamp: 'JulianCasaburi 11/17/2018 03:15'!dni: unNumeroDeDNI	"comment stating purpose of message"	dni := unNumeroDeDNI .! !!User methodsFor: 'private' stamp: 'JulianCasaburi 11/17/2018 03:15'!nombre: unNombre	"comment stating purpose of message"	nombre := unNombre.! !!User methodsFor: 'as yet unclassified' stamp: 'JulianCasaburi 11/17/2018 03:28'!agregarPropiedad: unaPropiedad	"comment stating purpose of message"	propiedadesEnAlquiler add: unaPropiedad .! !!User methodsFor: 'as yet unclassified' stamp: 'JulianCasaburi 11/17/2018 04:05'!reservas	"comment stating purpose of message"	^ reservasEfectuadas .! !!User methodsFor: 'as yet unclassified' stamp: 'JulianCasaburi 11/17/2018 04:28'!ingresosDesde: fechaInicio hasta: fechaFin	"comment stating purpose of message"	propiedadesEnAlquiler sum: [ :each | each ingresosDesde: fechaInicio hasta: fechaFin ].! !!User methodsFor: 'as yet unclassified' stamp: 'JulianCasaburi 11/17/2018 04:24'!agregarReserva: unaReserva	"comment stating purpose of message"	reservasEfectuadas add: unaReserva .! !"-- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- "!User class	instanceVariableNames: ''!!User class methodsFor: 'as yet unclassified' stamp: 'JulianCasaburi 11/17/2018 03:18'!conNombre: unNombre conDireccion: unaDireccion yDNI: unDNI	"comment stating purpose of message"	^self new		nombre: unNombre;		direccion: unaDireccion;		dni: unDNI;		yourself.! !